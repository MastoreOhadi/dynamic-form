<mat-card class="form-card">
  <form *ngIf="form" [formGroup]="form" (ngSubmit)="onSubmit()">
    <div *ngFor="let field of config?.fields" class="form-field">
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>{{ field.title }}</mat-label>
        <input
          matInput
          [type]="field.type"
          [formControlName]="field.name"
          [placeholder]="field.description"
        />
        <mat-error *ngIf="form.get(field.name)?.invalid && form.get(field.name)?.touched">
          {{ field.errorMessage }}
        </mat-error>
      </mat-form-field>
    </div>

    <div class="button-container">
      <button mat-raised-button color="primary" type="submit" [disabled]="form.invalid">
        {{ config?.submitLabel }}
      </button>
    </div>
  </form>
</mat-card>
